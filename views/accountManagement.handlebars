<link rel="stylesheet" href="/css/accountManagement.css">

<div class="container-fluid">
    <div class="table-responsive">
        <table class="table table-hover text-center">
            <thead>
                <tr>
                    <th>AVATAR</th>
                    <th>HỌ TÊN</th>
                    <th>TRẠNG THÁI KHÓA</th>
                    <th>HÀNH ĐỘNG</th>
                </tr>
            </thead>
            <tbody>
                {{#each accounts}}
                    <tr {{{isActivateAccount activateStatus}}}>
                        <td><img src="/uploads/avatars/{{profilePicture}}" class="old"></td>
                        <td>{{fullname}}</td>
                        <td>
                            {{#getLockedStatus email lockedStatus}}{{/getLockedStatus}}
                        </td>
                        <td>
                            <button class="btn btn-primary" onclick="resendEmail('{{email}}')"><i class="fa-solid fa-envelope-circle-check"></i></button> 
                            <a href="/profileid/{{email}}" class="btn btn-secondary" style="text-decoration: none; color: white;">
                                <i class="fa-solid fa-circle-info"></i>
                            </a>
                        </td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </div>

    <div class="row mt-3">
        <div class="col">
            {{#if totalPages}}
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        <li class="page-item {{#if (eq currentPage 1)}}disabled{{/if}}">
                            <a class="page-link" href="?page=1"><<</a>
                        </li>
                        <li class="page-item {{#if (eq currentPage 1)}}disabled{{/if}}">
                            {{#if (eq currentPage 1)}}
                                <a class="page-link" href="#"><</a>
                            {{else}}
                                <a class="page-link" href="?page={{prevPage}}"><</a>
                            {{/if}}
                        </li>
                        {{#each pages}}
                            <li class="page-item {{#if (eq ../currentPage this)}}active{{/if}}">
                                <a class="page-link" href="?page={{this}}">{{this}}</a>
                            </li>
                        {{/each}}
                        <li class="page-item {{#if (eq currentPage totalPages)}}disabled{{/if}}">
                            {{#if (eq currentPage totalPages)}}
                                <a class="page-link" href="#">></a>
                            {{else}}
                                <a class="page-link" href="?page={{nextPage}}">></a>
                            {{/if}}
                        </li>
                         <li class="page-item {{#if (eq currentPage totalPages)}}disabled{{/if}}">
                            <a class="page-link" href="?page={{totalPages}}">>></a>
                        </li>
                    </ul>
                </nav>
            {{/if}}
        </div>
    </div>
</div>

<script src="/js/accountManagement.js"></script>